function a(e){return{value:e,children:[]}}function O(e,n){return{value:e,children:n}}function P({children:e}){return e.length==0}function V({children:e}){return e.length>0}function D(e,{value:n,children:t}){return{value:n,children:[...t,e]}}function R(e,{value:n,children:t}){return{value:n,children:[e,...t]}}function x(e,{value:n,children:t}){return{value:e(n),children:t}}function _(e,{children:n}){return{value:e,children:n}}function j(e,n,t){return h((i,o)=>[i,...o],[],t).reduce((i,o)=>e(o,i),n)}function h(e,n,t){return d(e,n,[t],[])}function d(e,n,t,r){let[i,...o]=t;if(i){let{value:u,children:p}=i;return p.length>0?d(e,e(u,n),p,[o,...r]):d(e,e(u,n),o,r)}else if(r.length>0){let[u,...p]=r;return d(e,n,u,p)}else return n}function k(e){return h((n,t)=>t+1,0,e)}function E(e){return{node:e,path:[]}}function v(e,{node:n,path:t}){return{node:x(e,n),path:t}}function G(e,n){return v(()=>e,n)}function H({node:e}){return e}function U({node:e}){return e.value}function l({node:e,path:n}){let[t,...r]=n;if(t){let{focus:i,left:o,right:u}=t;return{node:{value:i,children:[...o,e,...u]},path:r}}else return}function A({node:e,path:n}){let[t,...r]=n;if(t){let{focus:i,left:o,right:u}=t,[p,...T]=[...o].reverse();if(p){let f={focus:i,left:[...T].reverse(),right:[e,...u]};return{node:p,path:[f,...r]}}else return}else return}function Z({node:e,path:n}){let[t,...r]=n;if(t){let{focus:i,left:o,right:u}=t,[p,...T]=u;if(p){let f={focus:i,left:[...o,e],right:T};return{node:p,path:[f,...r]}}else return}else return}function g(e,{node:n,path:t}){let{focus:r,left:i,right:o}=S(e,n.children);if(r){let u={focus:n.value,left:i,right:o};return{node:r,path:[u,...t]}}else return}function C(e){return g(0,e)}function b({node:e,path:n}){return g(e.children.length-1,{node:e,path:n})}function N(e){let n=l(e);if(n){let t=Z(n);return t||N(n)}else return}function y(e){let n=b(e);return n?y(n):e}function m(e){return c([C,Z,N],e)}function w(e){let n=A(e);if(n)return y(n)}function L(e){return c([w,l],e)}function c(e,n){let[t,...r]=e;if(t){let i=t(n);return i||c(r,n)}else return}function S(e,n){let t=n.slice(0,e),r=n[e],i=n.slice(e+1);return{focus:r,left:t,right:i}}function F(e){if(e.path.length>0){let n=l(e);return n?F(n):void 0}else return e}function s(e,n,t){let r=n(t);if(r)return e(U(r))?r:s(e,n,r)}function I(e,n){return s(e,m,n)}function J(e,n){return s(e,L,n)}function K(e,{node:n,path:t}){let[r,...i]=t,o;if(r){let{focus:u,left:p,right:T}=r;o={focus:u,left:[...p,e],right:T}}else o={focus:n.value,left:[e],right:[]};return{node:n,path:[o,...i]}}function M(e,{node:n,path:t}){let[r,...i]=t,o;if(r){let{focus:u,left:p,right:T}=r;o={focus:u,left:p,right:[e,...T]}}else o={focus:n.value,left:[],right:[e]};return{node:n,path:[o,...i]}}function Q({path:e}){let[n,...t]=e;if(n){let{left:r,right:i}=n;if(i.length){let[o,...u]=i,p={focus:o.value,left:r,right:u};return{node:o,path:[p,...t]}}else if(r.length){let o=r[r.length-1],u=r.slice(0,-1),p={focus:o.value,left:u,right:i};return{node:o,path:[p,...t]}}else return{node:a(t[0].focus),path:t}}}export{M as append,D as appendChild,k as count,s as find,I as findNext,J as findPrevious,d as foldStep,h as foldl,j as foldr,A as goLeft,m as goNext,L as goPrevious,Z as goRight,g as goToChild,C as goToFirstChild,b as goToLastChild,y as goToLastDecendant,l as goUp,V as hasChildren,P as isLeaf,x as mapValue,O as node,K as prepend,R as prependChild,Q as remove,G as replace,_ as replaceValue,F as root,a as singleton,H as tree,v as update,U as value,E as zipper};
